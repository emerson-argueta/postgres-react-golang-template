digraph user{
    labelloc=t
    label="User"
    subgraph cluster_properties{
        label="properties"
        id[shape=rectangle]
        email[shape=rectangle]
        password[shape=rectangle]
        subgraph cluster_services{
            label="services"
            service[shape=rectangle]
            role[shape=rectangle]

            role->service
        }

        id->email->password->role[style=invis]
    }
    subgraph cluster_processes{
        label="processes"
        register[shape=rectangle]
        unregister[shape=rectangle]
        update[shape=rectangle]

        register->
        unregister->
        update[style=invis]
    }
}