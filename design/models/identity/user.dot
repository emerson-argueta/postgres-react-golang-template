digraph user{
    labelloc=t
    label="User"
    subgraph cluster_properties{
        label="properties"
        id[shape=rectangle]
        email[shape=rectangle]
        password[shape=rectangle]
        subgraph cluster_domains{
            label="domains"
            domain[shape=rectangle]
            role[shape=rectangle]

            role->domain
        }

        id->email->password->role[style=invis]
    }
    subgraph cluster_processes{
        label="processes"
        register[shape=rectangle]
        unregister[shape=rectangle]
        update[shape=rectangle]
        retrieve[shape=rectangle]
        lookUpDomain[shape=rectangle]
        createDomain[shape=rectangle]
        updateDomain[shape=rectangle]

        register->
        unregister->
        update->
        retrieve->
        lookUpDomain->
        createDomain->
        updateDomain[style=invis]
    }
}